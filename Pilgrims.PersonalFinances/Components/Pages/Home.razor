@page "/"
@using Pilgrims.PersonalFinances.Services
@inject IThemeService ThemeService

<!-- Particle Background -->
<div class="fixed inset-0 overflow-hidden pointer-events-none">
    @for (int i = 0; i < 20; i++)
    {
        <div class="absolute w-2 h-2 bg-blue-200 rounded-full opacity-30 animate-pulse" style="left: @(Random.Shared.Next(0, 100))%; animation-delay: @(Random.Shared.Next(0, 20))s; animation-duration: @(Random.Shared.Next(15, 25))s;"></div>
    }
</div>

<div class="max-w-7xl mx-auto p-6 min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 animate-fade-in">
    <!-- Welcome Header with Dynamic Greeting -->
    <div class="mb-8 p-6 rounded-xl shadow-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white animate-slide-down">
        <div class="flex items-center justify-between">
            <div>
                <h1 class="text-4xl font-bold mb-2 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent animate-pulse">Welcome back! ðŸ‘‹</h1>
                <p class="text-blue-100 text-lg animate-pulse">Here's your financial overview for @DateTime.Now.ToString("MMMM dd, yyyy")</p>
            </div>
            <div class="hidden md:block">
                <div class="text-6xl opacity-30">ðŸ“Š</div>
            </div>
        </div>
    </div>

    <!-- Financial Summary Cards with Enhanced Styling -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <!-- Net Worth Card -->
        <div class="relative p-6 rounded-xl shadow-lg bg-gradient-to-br from-green-500 to-emerald-600 text-white transform hover:scale-105 transition-all duration-300 animate-slide-up border border-green-400 hover:shadow-2xl" style="animation-delay: 0s;">
            <div class="absolute inset-0 bg-white opacity-10 rounded-xl animate-pulse"></div>
            <div class="relative z-10">
                <div class="flex items-center justify-between mb-4">
                    <div class="p-3 rounded-full bg-white bg-opacity-20 animate-pulse">
                        <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4zM18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"></path>
                        </svg>
                    </div>
                    <div class="text-right">
                        <div class="text-white text-sm opacity-80">Net Worth</div>
                        <div class="text-3xl font-bold text-white drop-shadow-lg">$125,430</div>
                        <div class="text-white text-xs opacity-70 flex items-center animate-bounce">
                            <span class="mr-1">ðŸ“ˆ</span> +2.5% this month
                        </div>
                    </div>
                </div>
                <div class="h-1 bg-white bg-opacity-20 rounded-full overflow-hidden">
                    <div class="h-full bg-white rounded-full animate-pulse" style="width: 75%;"></div>
                </div>
            </div>
        </div>

        <!-- Monthly Income Card -->
        <div class="relative p-6 rounded-xl shadow-lg bg-gradient-to-br from-blue-500 to-indigo-600 text-white transform hover:scale-105 transition-all duration-300 animate-slide-up border border-blue-400 hover:shadow-2xl" style="animation-delay: 0.1s;">
            <div class="absolute inset-0 bg-white opacity-10 rounded-xl animate-pulse"></div>
            <div class="relative z-10">
                <div class="flex items-center justify-between mb-4">
                    <div class="p-3 rounded-full bg-white bg-opacity-20">
                        <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <div class="text-right">
                        <div class="text-white text-sm opacity-80">Monthly Income</div>
                        <div class="text-3xl font-bold text-white">$8,500</div>
                        <div class="text-white text-xs opacity-70 flex items-center">
                            <span class="mr-1">ðŸš€</span> +5.2% vs last month
                        </div>
                    </div>
                </div>
                <div class="h-1 bg-white bg-opacity-20 rounded-full overflow-hidden">
                    <div class="h-full bg-white rounded-full animate-pulse" style="width: 85%; animation-delay: 0.5s;"></div>
                </div>
            </div>
        </div>

        <!-- Monthly Expenses Card -->
        <div class="relative p-6 rounded-xl shadow-lg bg-gradient-to-br from-orange-500 to-red-600 text-white transform hover:scale-105 transition-all duration-300 animate-slide-up border border-orange-400 hover:shadow-2xl" style="animation-delay: 0.2s;">
            <div class="absolute inset-0 bg-white opacity-10 rounded-xl animate-pulse"></div>
            <div class="relative z-10">
                <div class="flex items-center justify-between mb-4">
                    <div class="p-3 rounded-full bg-white bg-opacity-20">
                        <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <div class="text-right">
                        <div class="text-white text-sm opacity-80">Monthly Expenses</div>
                        <div class="text-3xl font-bold text-white">$6,200</div>
                        <div class="text-white text-xs opacity-70 flex items-center">
                            <span class="mr-1">ðŸ“‰</span> -3.1% vs last month
                        </div>
                    </div>
                </div>
                <div class="h-1 bg-white bg-opacity-20 rounded-full overflow-hidden">
                    <div class="h-full bg-white rounded-full animate-pulse" style="width: 62%; animation-delay: 1s;"></div>
                </div>
            </div>
        </div>

        <!-- Savings Rate Card -->
        <div class="relative p-6 rounded-xl shadow-lg bg-gradient-to-br from-purple-500 to-pink-600 text-white transform hover:scale-105 transition-all duration-300 animate-slide-up border border-purple-400 hover:shadow-2xl" style="animation-delay: 0.3s;">
            <div class="absolute inset-0 bg-white opacity-10 rounded-xl animate-pulse"></div>
            <div class="relative z-10">
                <div class="flex items-center justify-between mb-4">
                    <div class="p-3 rounded-full bg-white bg-opacity-20">
                        <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <div class="text-right">
                        <div class="text-white text-sm opacity-80">Savings Rate</div>
                        <div class="text-3xl font-bold text-white">27%</div>
                        <div class="text-white text-xs opacity-70 flex items-center">
                            <span class="mr-1">ðŸŽ¯</span> Above target
                        </div>
                    </div>
                </div>
                <div class="h-1 bg-white bg-opacity-20 rounded-full overflow-hidden">
                    <div class="h-full bg-white rounded-full animate-pulse" style="width: 90%; animation-delay: 1.5s;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Main Content Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <!-- Recent Transactions with Advanced Styling -->
        <div class="lg:col-span-2">
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 animate-slide-up backdrop-blur-sm" style="animation-delay: 0.4s;">
                <div class="mb-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Recent Transactions</h2>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Your latest financial activity</p>
                        </div>
                        <div class="p-3 rounded-full bg-blue-500 text-white">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="space-y-3">
                    <!-- Enhanced Transaction Items -->
                    <div class="flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all duration-200 animate-slide-in" style="animation-delay: 0.6s;">
                        <div class="flex items-center space-x-4">
                            <div class="p-2 rounded-full bg-green-100 text-green-600">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="font-semibold text-gray-900 dark:text-white">Salary Deposit</p>
                                        <p class="text-sm text-gray-600 dark:text-gray-400">Jan 15, 2024 â€¢ Direct Deposit</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="font-bold text-lg text-green-600">+$4,250.00</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Recurring</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all duration-200 animate-slide-in" style="animation-delay: 0.7s;">
                        <div class="flex items-center space-x-4">
                            <div class="p-2 rounded-full bg-red-100 text-red-600">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="font-semibold text-gray-900 dark:text-white">Grocery Shopping</p>
                                        <p class="text-sm text-gray-600 dark:text-gray-400">Jan 14, 2024 â€¢ Whole Foods</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="font-bold text-lg text-red-600">-$127.45</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Food & Dining</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all duration-200 animate-slide-in" style="animation-delay: 0.8s;">
                        <div class="flex items-center space-x-4">
                            <div class="p-2 rounded-full bg-orange-100 text-orange-600">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M8 5a1 1 0 100 2h5.586l-1.293 1.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L13.586 5H8zM12 15a1 1 0 100-2H6.414l1.293-1.293a1 1 0 10-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L6.414 15H12z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="font-semibold text-gray-900 dark:text-white">Gas Station</p>
                                        <p class="text-sm text-gray-600 dark:text-gray-400">Jan 13, 2024 â€¢ Shell</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="font-bold text-lg text-red-600">-$65.20</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Transportation</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all duration-200 animate-slide-in" style="animation-delay: 0.9s;">
                        <div class="flex items-center space-x-4">
                            <div class="p-2 rounded-full bg-purple-100 text-purple-600">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"></path>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="font-semibold text-gray-900 dark:text-white">Netflix Subscription</p>
                                        <p class="text-sm text-gray-600 dark:text-gray-400">Jan 12, 2024 â€¢ Monthly</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="font-bold text-lg text-red-600">-$15.99</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Entertainment</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-6 pt-4 border-t border-gray-200 dark:border-gray-700">
                    <button class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-600 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 flex items-center justify-center">
                        <span>View All Transactions</span>
                        <svg class="w-4 h-4 ml-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Sidebar Content -->
        <div class="space-y-6">
            <!-- Budget Overview -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 backdrop-blur-sm animate-slide-up" style="animation-delay: 0.5s;">
                <div class="mb-4">
                    <h3 class="text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">Budget Overview</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400 animate-pulse">January 2024</p>
                </div>
                <div class="space-y-4">
                    <!-- Budget Item -->
                    <div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm font-medium text-gray-900 dark:text-white">Food & Dining</span>
                            <span class="text-sm text-gray-600 dark:text-gray-400">$450 / $600</span>
                        </div>
                        <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                            <div class="bg-green-500 h-2 rounded-full transition-all duration-500" style="width: 75%"></div>
                        </div>
                    </div>

                    <!-- Budget Item -->
                    <div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm font-medium text-gray-900 dark:text-white">Transportation</span>
                            <span class="text-sm text-gray-600 dark:text-gray-400">$320 / $400</span>
                        </div>
                        <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                            <div class="bg-yellow-500 h-2 rounded-full transition-all duration-500" style="width: 80%"></div>
                        </div>
                    </div>

                    <!-- Budget Item -->
                    <div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm font-medium text-gray-900 dark:text-white">Entertainment</span>
                            <span class="text-sm text-gray-600 dark:text-gray-400">$180 / $200</span>
                        </div>
                        <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                            <div class="bg-red-500 h-2 rounded-full transition-all duration-500" style="width: 90%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 animate-slide-up" style="animation-delay: 0.6s;">
                <div class="mb-4">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white">Quick Actions</h3>
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <button class="bg-blue-500 hover:bg-blue-600 text-white text-sm py-3 px-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105">
                        <span class="block">ðŸ’³</span>
                        Add Transaction
                    </button>
                    <button class="bg-gray-500 hover:bg-gray-600 text-white text-sm py-3 px-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105">
                        <span class="block">ðŸ’°</span>
                        Transfer Money
                    </button>
                    <button class="bg-green-500 hover:bg-green-600 text-white text-sm py-3 px-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105">
                        <span class="block">ðŸ“Š</span>
                        View Reports
                    </button>
                    <button class="bg-yellow-500 hover:bg-yellow-600 text-white text-sm py-3 px-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105">
                        <span class="block">ðŸŽ¯</span>
                        Set Goal
                    </button>
                </div>
            </div>

            <!-- Upcoming Bills -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 animate-slide-up" style="animation-delay: 0.7s;">
                <div class="mb-4">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white">Upcoming Bills</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Next 7 days</p>
                </div>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800">
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-yellow-500 rounded-full"></div>
                            <span class="text-sm font-medium text-gray-900 dark:text-white">Rent Payment</span>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-semibold text-gray-900 dark:text-white">$1,200</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Due Jan 31</p>
                        </div>
                    </div>

                    <div class="flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                            <span class="text-sm font-medium text-gray-900 dark:text-white">Internet Bill</span>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-semibold text-gray-900 dark:text-white">$79.99</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Due Feb 2</p>
                        </div>
                    </div>

                    <div class="flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800">
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-sm font-medium text-gray-900 dark:text-white">Phone Bill</span>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-semibold text-gray-900 dark:text-white">$45.00</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Due Feb 5</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
